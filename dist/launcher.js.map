{
  "version": 3,
  "sources": ["../utils.js", "../mockServer.js", "../launcher.js", "../index.js"],
  "sourcesContent": ["const KEY_CACHE_STORE = \"__launcher_image_data_url_cache__\";\n\nexport class ApplicationInfo {\n    constructor () {\n        this.name = \"\";\n        this.package = \"\";\n        this.activity = \"\";\n    }\n}\n\nexport class LauncherResponseError extends Error {\n    constructor (msg) {\n        super(\"LauncherResponseError: \" + msg);\n    }\n}\n\n/**\n * makeRequest\n * @param {string} src \n * @returns {Request}\n */\nconst makeRequest = (src) => {\n    return new Request(src, {\n        method: \"GET\",\n    });\n};\n\n/**\n * makeRequest\n * @param {string} value \n * @returns {Response}\n */\nconst makeResponse = (value) => {\n    return new Response(value, {\n        status: 200,\n    });\n};\n\n/* Cache Control */\n/**\n * \n * @param {string} src \n * @returns {Promise<string | undefined>}\n */\nconst getCache = async (src) => {\n    if (!src.startsWith(\"http\")) { return undefined; }\n    try {\n        const cache = await self.caches.open(KEY_CACHE_STORE);\n        const req = makeRequest(src);\n        const resp = await cache.match(req, {\n            ignoreMethod: true,\n            ignoreSearch: true,\n            ignoreVary: true,\n        });\n        if (resp) {\n            return await resp.text();\n        }\n    } catch (err) {\n        console.error(err);\n    }\n    return undefined;\n};\n\n/**\n * updateCache\n * @param {string} src \n * @param {string} value \n * @returns {Promise<void>}\n */\nconst updateCache = async (src, value) => {\n    if (!src.startsWith(\"http\")) { return; }\n    try {\n        const cache = await self.caches.open(KEY_CACHE_STORE);\n        const req = makeRequest(src);\n        const resp = makeResponse(value);\n        await cache.delete(req, {\n            ignoreMethod: true,\n            ignoreSearch: true,\n            ignoreVary: true,\n        });\n        await cache.put(req, resp);\n    } catch (err) {\n        console.error(err);\n    }\n};\n\n/**\n * loadImageToDataURL\n * @param {string} src \n * @returns {Promise<string>} dataURL\n */\nconst loadImageToDataURL = (src) => {\n    return new Promise((resolve, reject) => {\n        const img = new Image();\n        const onload = () => {\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = img.width;\n            canvas.height = img.height;\n            const context = canvas.getContext(\"2d\");\n            context.drawImage(img, 0, 0);\n            resolve(canvas.toDataURL());\n        };\n        const onerror = (event) => {\n            reject(event);\n        };\n        img.addEventListener(\"load\", onload);\n        img.addEventListener(\"error\", onerror);\n        img.src = src + `&t=${new Date().getTime()}`; // force refresh\n    });\n};\n\n/**\n * convertImageURL\n * @param {string} src \n * @param {boolean} [reload=false] \n * @returns {Promise<string>}\n */\nexport const convertToCachedImageURL = async (src, reload = false) => {\n    const cache = await getCache(src);\n    if (typeof cache !== \"string\") {\n        reload = true;\n    } else {\n        return cache;\n    }\n    if (reload) {\n        const url = await loadImageToDataURL(src);\n        await updateCache(src, url);\n        return url;\n    }\n};\n", "import { ApplicationInfo, LauncherResponseError } from \"./utils.js\";\n\nconst KEY_STORE_PERMISSION = \"__store_permissions__\";\n\nclass Random {\n    constructor (seed = Math.PI * Math.PI) {\n        this.seed = seed;\n    };\n\n    nextInt (min, max) {\n        const rand = Number.parseFloat(\"0.\" + Math.sin(this.seed++).toString().substr(6));\n        min = Math.ceil(min);\n        max = Math.floor(max);\n        return Math.floor(rand * (max - min)) + min;\n    };\n}\n\nconst ICON_SIZE = 128;\nconst WORD_LIST = [\n    \"otren\", \"nlttvwrarc\", \"fhoiaii\", \"eehednt\", \"xeomlea\", \"ennsheey\", \"msapeg\", \"etauwilash\",\n    \"ytfi\", \"hosodad\", \"cemehn\", \"inra\", \"oeeow\", \"dubeto\", \"mauetehs\", \"deetrtre\",\n    \"lelsiid\", \"nkghs\", \"admiat\", \"iadh\", \"hoyu\", \"mhyiiltaafm\", \"hrwjaw\",\n];\nconst COLOR_LIST = [\n    \"#f44336\", \"#e91e63\", \"#e91e63\", \"#7e57c2\", \"#3f51b5\", \"#2196f3\", \"#03a9f4\", \"#00bcd4\",\n    \"#009688\", \"#4caf50\", \"#8bc34a\", \"#cddc39\", \"#ffeb3b\", \"#ffc107\", \"#ff9800\", \"#ff5722\",\n    // \"#795548\", \"#9e9e9e\", \"#9e9e9e\",\n];\nconst getRandomWord = function (random) {\n    const pos = random.nextInt(0, WORD_LIST.length);\n    return WORD_LIST[ pos ];\n};\nconst getRandomColor = function (random) {\n    const pos = random.nextInt(0, COLOR_LIST.length);\n    return COLOR_LIST[ pos ];\n};\nconst toFirstUpperCase = function (text) {\n    return text.replace(/^./u, text.charAt(0).toUpperCase());\n};\nconst generateRandomAppList = function (seed = Math.PI * Math.PI, size = 50) {\n    const apps = [];\n    const colors = {};\n    const r = new Random(seed);\n    for (let i = 0; i < size; i++) {\n        const length = r.nextInt(1, 4); // name word count [1, 4)\n        const app = new ApplicationInfo();\n        for (let k = 0; k < length; k++) {\n            const word = getRandomWord(r);\n            app.name += toFirstUpperCase(word) + \" \";\n            app.package += word + \".\";\n        }\n        app.activity = app.package + \"MainActivity\";\n        app.name = app.name.substring(0, app.name.length - 1);\n        app.package = app.package.substring(0, app.package.length - 1);\n        const theme = [ getRandomColor(r), getRandomColor(r), getRandomColor(r) ];\n        colors[ app.package ] = theme;\n        apps.push(app);\n    }\n    return [ apps, colors ];\n};\n\nconst [ APP_LIST, APP_THEME ] = generateRandomAppList();\n\nexport class MockServer {\n    /** @type {Record<string,boolean>} */\n    #permission = {};\n    constructor () {\n        this.#permission = {}; // permission records\n        this.#loadHistoryPermission();\n    }\n\n    #hasLaunchPermission () {\n        return !!this.#permission[ \"launcher\" ];\n    };\n\n    #loadHistoryPermission () {\n        const store = sessionStorage.getItem(KEY_STORE_PERMISSION);\n        if (store) {\n            try {\n                this.#permission = JSON.parse(store);\n            } catch (err) {\n                console.error(err);\n            }\n        }\n    }\n\n    #saveHistoryPermission () {\n        sessionStorage.setItem(KEY_STORE_PERMISSION, JSON.stringify(this.#permission));\n    }\n\n    /**\n     * getApplicationList\n     * @returns {Promise<Array<ApplicationInfo>>}\n     */\n    async getApplicationList () {\n        if (!this.#hasLaunchPermission()) {\n            console.error(\"launchApplication: You need request permission first!\");\n            throw new LauncherResponseError(\"No Permission\");\n        }\n        return APP_LIST;\n    };\n\n    /**\n     * getApplicationIconSrc\n     * @param {string} packageName \n     * @param {string} activity \n     * @param {number} size \n     * @returns {string}\n     */\n    getApplicationIconSrc (packageName, activity, size = ICON_SIZE) {\n        let theme;\n        if (packageName != null) {\n            theme = APP_THEME[ packageName ];\n        } else {\n            const r = new Random(Math.random() * Number.MAX_SAFE_INTEGER);\n            theme = [ getRandomColor(r), getRandomColor(r), getRandomColor(r) ];\n        }\n        const SVG_IMAGE = `<svg width=\"${size}\" height=\"${size}\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g>\n        <rect x=\"-1\" y=\"-1\" width=\"${size + 2}\" height=\"${size + 2}\" id=\"canvas_background\" fill=\"none\"/>\n        </g>\n        <g>\n        <ellipse ry=\"${size / 2.2}\" rx=\"${size / 2.2}\" id=\"svg_3\" cy=\"${size / 2}\" cx=\"${size / 2}\" stroke-width=\"0\" stroke=\"#000\" fill=\"${theme[ 0 ]}\"/>\n        <ellipse ry=\"${size / 3}\" rx=\"${size / 3}\" id=\"svg_3\" cy=\"${size / 2}\" cx=\"${size / 2}\" stroke-width=\"0.5\" stroke=\"#000\" fill=\"${theme[ 1 ]}\"/>\n        <ellipse ry=\"${size / 5}\" rx=\"${size / 5}\" id=\"svg_3\" cy=\"${size / 2}\" cx=\"${size / 2}\" stroke-width=\"0\" stroke=\"#000\" fill=\"${theme[ 2 ]}\"/>\n        </g>\n        </svg>`;\n        return \"data:image/svg+xml;base64,\" + btoa(SVG_IMAGE);\n    };\n\n    /**\n     * launchApplication\n     * @param {string} packageName \n     * @param {string} activity \n     * @returns {Promise<boolean>}\n     */\n    async launchApplication (packageName, activity) {\n        if (!this.#hasLaunchPermission()) {\n            console.error(\"launchApplication: You need request permission first!\");\n            throw new LauncherResponseError(\"No Permission\");\n        }\n        const frame = document.createElement(\"div\");\n        frame.style.width = \"100%\";\n        frame.style.height = \"100%\";\n        frame.style.background = \"black\";\n        frame.style.position = \"fixed\";\n        frame.style.top = 0;\n        frame.style.right = 0;\n        frame.style.bottom = 0;\n        frame.style.left = 0;\n        frame.style.textAlign = \"center\";\n        frame.style.padding = \"1em\";\n        frame.style.boxSizing = \"border-box\";\n        frame.onclick = function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n            document.body.removeChild(frame);\n        };\n        const title = document.createElement(\"h1\");\n        title.innerText = \"Application\";\n        title.style.color = \"white\";\n        title.style.wordBreak = \"break-all\";\n        frame.appendChild(title);\n        const pkg = document.createElement(\"h3\");\n        pkg.innerText = packageName;\n        pkg.style.color = \"white\";\n        pkg.style.wordBreak = \"break-all\";\n        frame.appendChild(pkg);\n        const pkg2 = document.createElement(\"h3\");\n        pkg2.innerText = activity;\n        pkg2.style.color = \"white\";\n        pkg2.style.wordBreak = \"break-all\";\n        frame.appendChild(pkg2);\n        document.body.appendChild(frame);\n        return true;\n    };\n\n    /**\n     * requestPermission\n     * @param {string} name \n     * @returns {Promise<boolean>} success\n     */\n    async requestPermission (name) {\n        const NAME_MAP = {\n            launcher: \"Launcher\",\n        };\n        if (![ \"launcher\" ].includes(name)) {\n            console.error(\"requestPermission: Permission name not support!\");\n            throw new LauncherResponseError(\"Permission name not support\");\n        }\n        if (this.#permission[ name ]) {\n            return true;\n        }\n        const result = confirm(`Do you want to grant ${NAME_MAP[ name ]} permission to ${window.location.origin} ?`);\n        if (result) {\n            this.#permission[ name ] = true;\n            this.#saveHistoryPermission();\n            return true;\n        }\n        throw new LauncherResponseError(\"Permission denided\");\n    }\n}", "import { MockServer } from \"./mockServer.js\";\nimport { ApplicationInfo, LauncherResponseError } from \"./utils.js\";\n\nexport const PERMISSION_LAUNCHER = \"launcher\";\n\n// launcher api\nexport class Launcher {\n    #envMayNotExist = false;\n    #address = \"\";\n    /** @type {MockServer | undefined} */\n    #mockServer = undefined;\n    constructor () {\n        /** @deprecated Use 'PERMISSION_LAUNCHER' in the module. */\n        this.PERMISSION_LAUNCHER = \"launcher\";\n        let port = 10801;\n        // try to get the port\n        try {\n            const re = /WebLauncher\\/\\d*? \\(port (\\d*?)\\)/g;\n            const portText = re.exec(navigator.userAgent)[ 1 ];\n            port = Number.parseInt(portText);\n            if (portText == null || port <= 0 || port > 65535) {\n                port = 10801;\n                this.#envMayNotExist = true;\n            }\n        } catch {\n            console.log(\"error, default port!\", port);\n            this.#envMayNotExist = true;\n        }\n        console.log(\"using port:\", port);\n        let protocol = window.location.protocol;\n        if (protocol !== \"http:\") {\n            protocol = \"https:\";\n        }\n        this.#address = `${protocol}//127.0.0.1:${port}/api/`;\n        // debug mock server\n        this.#mockServer = undefined;\n    };\n\n    /**\n     * isRunningInLauncher\n     * @returns {boolean}\n     */\n    isRunningInLauncher () {\n        return !this.#envMayNotExist;\n    }\n\n    /**\n     * getApplicationList\n     * @returns {Promise<Array<ApplicationInfo>>}\n     */\n    async getApplicationList () {\n        if (this.#mockServer) {\n            return await this.#mockServer.getApplicationList();\n        }\n        const url = `${this.#address}app-list-all?t=${new Date().getTime()}`;\n        const resp = await fetch(url);\n        if (resp.status !== 200) {\n            throw new LauncherResponseError(\"status code not 200!\");\n        }\n        const arrays = JSON.parse(await resp.text());\n        const appList = arrays.map(item => {\n            const app = new ApplicationInfo();\n            app.name = item.name;\n            app.package = item.package;\n            app.activity = item.activity;\n            return app;\n        });\n        return appList;\n    };\n\n    /**\n     * getApplicationIconSrc\n     * @param {string} packageName \n     * @param {string} activity \n     * @param {number} size \n     * @returns {string}\n     */\n    getApplicationIconSrc (packageName, activity, size = 128) {\n        if (this.#mockServer) {\n            return this.#mockServer.getApplicationIconSrc(packageName, activity, size);\n        }\n        return `${this.#address}icon?package=${packageName}&activity=${activity}&size=${size}`;\n    };\n\n    /**\n     * launchApplication\n     * @param {string} packageName \n     * @param {string} activity \n     * @returns {Promise<boolean>}\n     */\n    async launchApplication (packageName, activity) {\n        if (this.#mockServer) {\n            return await this.#mockServer.launchApplication(packageName, activity);\n        }\n        const url = `${this.#address}launch?package=${packageName}&activity=${activity}&t=${new Date().getTime()}`;\n        const resp = await fetch(url);\n        if (resp.status !== 200) {\n            throw new LauncherResponseError(\"status code not 200!\");\n        }\n        return true;\n    };\n\n    /**\n     * requestPermission\n     * @param {string} name \n     * @returns {Promise<boolean>} success\n     */\n    async requestPermission (name) {\n        if (this.#mockServer) {\n            return await this.#mockServer.requestPermission(name);\n        }\n        const url = `${this.#address}request-permission?name=${name}&t=${new Date().getTime()}`;\n        const resp = await fetch(url);\n        if (resp.status !== 200) {\n            throw new LauncherResponseError(\"status code not 200!\");\n        }\n        return true;\n    };\n\n    /**\n     * startDebugSession\n     */\n    startDebugSession () {\n        this.#mockServer = new MockServer();\n    };\n};\n", "export { Launcher, PERMISSION_LAUNCHER } from \"./launcher.js\";\nexport { ApplicationInfo, LauncherResponseError, convertToCachedImageURL } from \"./utils.js\";\n\nimport { Launcher } from \"./launcher.js\";\n\nexport const launcher = new Launcher();\n"],
  "mappings": "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",
  "names": ["KEY_CACHE_STORE", "ApplicationInfo", "LauncherResponseError", "msg", "makeRequest", "src", "makeResponse", "value", "getCache", "cache", "req", "resp", "err", "updateCache", "loadImageToDataURL", "resolve", "reject", "img", "onload", "canvas", "onerror", "event", "convertToCachedImageURL", "reload", "url", "KEY_STORE_PERMISSION", "Random", "seed", "min", "max", "rand", "ICON_SIZE", "WORD_LIST", "COLOR_LIST", "getRandomWord", "random", "pos", "getRandomColor", "toFirstUpperCase", "text", "generateRandomAppList", "size", "apps", "colors", "r", "length", "app", "ApplicationInfo", "k", "word", "theme", "APP_LIST", "APP_THEME", "MockServer", "#permission", "#loadHistoryPermission", "#hasLaunchPermission", "store", "err", "#saveHistoryPermission", "LauncherResponseError", "packageName", "activity", "SVG_IMAGE", "frame", "event", "title", "pkg", "pkg2", "name", "NAME_MAP", "PERMISSION_LAUNCHER", "Launcher", "#envMayNotExist", "#address", "#mockServer", "port", "portText", "protocol", "url", "resp", "LauncherResponseError", "item", "app", "ApplicationInfo", "packageName", "activity", "size", "name", "MockServer", "launcher", "Launcher"]
}
